<!DOCTYPE html>
<!--[if lte IE 8 ]>
<html class="ie" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--
***************  *      *     *
      8          *    *       *
      8          *  *         *
      8          **           *
      8          *  *         *
      8          *    *       *
      8          *      *     *
      8          *        *   ***********    -----Theme By Kieran(http://go.kieran.top)
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<!--<![endif]-->

<head>
  <title>[转] JavaScript 开发者经常忽略或误用的七个基础知识点 | KIERAN&#39;S BLOG</title>
  <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="KIERAN'S BLOG">
    <meta name="author" content="Kieran">
    <meta name="description" content="Always Creative." />
    <meta name="keywords" content="Kieran,BLOG" />

    <!-- Favicon, (keep icon in root folder) -->
    <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico">

    <link rel="alternate" href="/atom.xml" title="KIERAN&#39;S BLOG" type="application/atom+xml">
    <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">
    
    <link rel="stylesheet" href="/highlightjs/xcode.css" type="text/css">
    

    <!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
    <![endif]-->

    <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
    <script src="/js/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.1.min.js"><\/script>')</script>

    <!-- Load these in the <head> for quicker IE8+ load times -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/js/html5shiv.min.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->

  
  
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="atom.xml">
  
  

  <style>.col-md-8.col-md-offset-2.opening-statement img{display:none;}</style>
</head>

<!--
<body class="post-template">
-->
<body id="index" class="lightnav animsition">

      <!-- ============================ Off-canvas navigation =========================== -->

    <div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
        <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
            <img src="/img/close.png" alt="Close"/>
        </div>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu">
            <li><a href="/" class="animsition-link" title="Home">Home</a></li>
            <li><a href="/archives" class="animsition-link" title="archive">archives</a></li>
            <!-- Dropdown Menu -->
			 
            <li>
                <a class="sb-toggle-submenu">Works<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                        <li><a href="https://github.com/SuperKieran/TKL" target="_BLANK" class="animsition-link">TKL(Hexo Theme)</a></li>
                    
                        <li><a href="https://github.com/SuperKieran/imoocDownload" target="_BLANK" class="animsition-link">慕课网视频下载</a></li>
                    
                </ul>
            </li>
            
            
        	<li>
        		<a class="sb-toggle-submenu">Categories<span class="sb-caret"></span></a>
            	<ul class="sb-submenu">
				  	
				    <li><a href="/categories/C-Cpp/" class="animsition-link">C/Cpp<small>(2)</small></a></li>
				    
				    <li><a href="/categories/CSS3/" class="animsition-link">CSS3<small>(1)</small></a></li>
				    
				    <li><a href="/categories/Hexo/" class="animsition-link">Hexo<small>(2)</small></a></li>
				    
				    <li><a href="/categories/IS/" class="animsition-link">IS<small>(3)</small></a></li>
				    
				    <li><a href="/categories/JavaScript/" class="animsition-link">JavaScript<small>(6)</small></a></li>
				    
				    <li><a href="/categories/Misc/" class="animsition-link">Misc<small>(6)</small></a></li>
				    
				    <li><a href="/categories/Node-js/" class="animsition-link">Node.js<small>(3)</small></a></li>
				    
				    <li><a href="/categories/Raspberrypi/" class="animsition-link">Raspberrypi<small>(6)</small></a></li>
				    
				    <li><a href="/categories/React/" class="animsition-link">React<small>(1)</small></a></li>
				    
				    <li><a href="/categories/XSS-CSRF/" class="animsition-link">XSS/CSRF<small>(2)</small></a></li>
				    
				</ul>
        	</li>
			
            
            <li>
                <a class="sb-toggle-submenu">Links<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                    <li><a href="http://miibotree.com/" class="animsition-link">Miibotree</a></li>
                    
                    <li><a href="http://homeway.me/" class="animsition-link">小草</a></li>
                    
                    <li><a href="http://www.nohackair.net/" class="animsition-link">Airbasic</a></li>
                    
                    <li><a href="http://n1k0.top/" class="animsition-link">Niko</a></li>
                    
                    <li><a href="http://edward-l.github.io/" class="animsition-link">Edward</a></li>
                    
                    <li><a href="http://3riccc.github.io/" class="animsition-link">Eric</a></li>
                    
                    <li><a href="https://blog.ibrother.me/" class="animsition-link">ibrother</a></li>
                    
                    <li><a href="http://makaiqian.com/" class="animsition-link">小麻雀</a></li>
                    
                    <li><a href="http://www.iphpt.com/" class="animsition-link">叶落山城秋</a></li>
                    
                </ul>
            </li>
            
        </ul>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu secondary">
            <li><a href="/about.html" class="animsition-link" title="about">About</a></li>
            <li><a href="/atom.xml" class="animsition-link" title="rss">RSS</a></li>
        </ul>
    </div>
    
    <!-- ============================ END Off-canvas navigation =========================== -->

    <!-- ============================ #sb-site Main Page Wrapper =========================== -->

    <div id="sb-site">
        <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

        <!-- ============================ Header & Logo bar =========================== -->

        <div id="navigation" class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <!-- Nav logo -->
                    <div class="logo">
                        <a href="/" title="Logo" class="animsition-link">
                         <img src="/img/logo.png" alt="Logo" width="35px;"/> 
                        </a>
                    </div>
                    <!-- // Nav logo -->
                    <!-- Info-bar -->
                    <nav>
                        <ul class="nav">
                            <li><a href="/" class="animsition-link">KIERAN'S BLOG</a></li>
                            <li class="nolink"><span>Always </span>Creative.</li>
                            
                            <li><a href="https://github.com/SuperKieran" title="Github" target="_blank"><i class="icon-github"></i></a></li>
                            
                            
                            <li><a href="https://twitter.com/1tsKieran" title="Twitter" target="_blank"><i class="icon-twitter"></i></a></li>
                            
                            
                            
                            
                            <li><a href="http://weibo.com/taokailun" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a></li>
                            
                            <li class="nolink"><span>Welcome!</span></li>
                        </ul>
                    </nav>
                    <!--// Info-bar -->
                </div>
                <!-- // .container -->
                <div class="learnmore sb-toggle-right">More</div>
                <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar before"></span>
                <span class="icon-bar main"></span>
                <span class="icon-bar after"></span>
                </button>
            </div>
            <!-- // .navbar-inner -->
        </div>

        <!-- ============================ Header & Logo bar =========================== -->


      
<section id="intro">
    <div class="container">
        <div class="row col-md-offset-2">
            <div class="col-md-8">
    			<span class="post-meta">
      <time datetime="2015-12-04T01:23:41.000Z" itemprop="datePublished">
          2015-12-04
      </time>
    
</span>
                <h1>[转] JavaScript 开发者经常忽略或误用的七个基础知识点</h1>
            </div>
        </div>
        <div class="col-md-8 col-md-offset-2">
      		<p>Original: 7 <a href="http://tech.pro/tutorial/1453/7-javascript-basics-many-developers-aren-t-using-properly" target="_blank" rel="external">JavaScript Basics Many Developers Aren’t Using (Properly)</a><br>Translated by: <a href="https://github.com/cssmagic" target="_blank" rel="external">cssmagic</a></p>
<p>JavaScript, at its base, is a simple language that we continue to evolve with intelligent, flexible patterns. We’ve used those patterns in JavaScript frameworks which fuel our web applications today. Lost in JavaScript framework usage, which many new developers are thrust right into, are some of the very useful JavaScript techniques that make basic tasks possible. Here are seven of those basics:</p>
<p>JavaScript 本身可以算是一门简单的语言，但我们也不断用智慧和灵活的模式来改进它。昨天我们将这些模式应用到了 JavaScript 框架中，今天这些框架又驱动了我们的 Web 应用程序。很多新手开发者被各种强大的 JavaScript 框架吸引进来，但他们却忽略了框架身后浩如星海的 JavaScript 实用技巧。本文将为你呈献其中七个基础知识点：</p>
<h2 id="1-String-prototype-replace-g-and-i-Flags"><a href="#1-String-prototype-replace-g-and-i-Flags" class="headerlink" title="1. String.prototype.replace: /g and /i Flags"></a>1. String.prototype.replace: /g and /i Flags</h2><h3 id="1-在-String-prototype-replace-方法中使用-g-和-i-标志位"><a href="#1-在-String-prototype-replace-方法中使用-g-和-i-标志位" class="headerlink" title="1. 在 String.prototype.replace 方法中使用 /g 和 /i 标志位"></a>1. 在 String.prototype.replace 方法中使用 /g 和 /i 标志位</h3><p>One surprise to many JavaScript newbies is that String’s replace method doesn’t replace all occurrences of the needle – just the first occurrence. Of course seasoned JavaScript vets know that a regular expression and the global flag (/g) need to be used:</p>
<p>令很多 JavaScript 初学者意外的是，字符串的 replace 方法并不会 替换所有匹配的子串——而仅仅替换第一次匹配。当然 JavaScript 老手们都知道这里可以使用正则表达式，并且需要加上一个全局标志位（/g）：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// Mistake</span><br><span class="line">// 踩到坑了</span><br><span class="line">var str = &quot;David is an Arsenal fan, which means David is great&quot;;</span><br><span class="line">str.replace(&quot;David&quot;, &quot;Darren&quot;); // &quot;Darren is an Arsenal fan, which means David is great&quot;</span><br><span class="line"> </span><br><span class="line">// Desired</span><br><span class="line">// 符合预期</span><br><span class="line">str.replace(/David/g, &quot;Darren&quot;); // &quot;Darren is an Arsenal fan, which means Darren is great&quot;</span><br><span class="line">Another basic logical mistake is not ignoring case when case is not critical to the validation (letters may be uppercase or lowercase), so the /i flag is also useful:</span><br></pre></td></tr></table></figure></p>
<p>另一个基本的逻辑错误就是在大小写不敏感的校验场合（字母可大写可小写）没有忽略大小写，此时 /i 标志位就很实用：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str.replace(/david/gi, &quot;Darren&quot;); // &quot;Darren will always be an Arsenal fan, which means Darren will always be great&quot;</span><br></pre></td></tr></table></figure></p>
<p>（译注：上面这段例程我没有看懂用意，可能是注释有误吧……）</p>
<p>Every JavaScript developer has been bitten by each of the flags in the past – so be sure to use them when when appropriate!</p>
<p>每个 JavaScript 开发者都曾踩过这两个标志位的坑——因此别忘了在适当的时候用上它们！</p>
<h2 id="2-Array-Like-Objects-and-Array-prototype-slice"><a href="#2-Array-Like-Objects-and-Array-prototype-slice" class="headerlink" title="2. Array-Like Objects and Array.prototype.slice"></a>2. Array-Like Objects and Array.prototype.slice</h2><h3 id="2-类数组对象和-Array-prototype-slice-方法"><a href="#2-类数组对象和-Array-prototype-slice-方法" class="headerlink" title="2. 类数组对象和 Array.prototype.slice 方法"></a>2. 类数组对象和 Array.prototype.slice 方法</h3><p>Array’s slice method is principally for grabbing segments of an array. What many developers don’t know is that slice can be used to covert Array-like objects like arguments, NodeLists, and attributes into true arrays of data:</p>
<p>数组的 slice 方法通常用来从一个数组中抽取片断。但很多开发者不了解的是，这个方法还可以用来将“类数组”元素（比如 arguments 参数列表、节点列表和属性列表）转换成真正的数组：（译注：DOM 元素的属性列表通过 attributes 属性获取，比如 document.body.attributes。）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var nodesArr = Array.prototype.slice.call(document.querySelectorAll(&quot;div&quot;));</span><br><span class="line">// &quot;true&quot; array of DIVs</span><br><span class="line">// 得到一个由 div 元素组成的“真正的”数组</span><br><span class="line"> </span><br><span class="line">var argsArr = Array.prototype.slice.call(arguments);</span><br><span class="line">// changes arguments to &quot;true&quot; array</span><br><span class="line">// 把 arguments 转换成一个“真正的”数组</span><br></pre></td></tr></table></figure></p>
<p>You can even clone an array using a simple slice call:</p>
<p>你还可以使用一次简单的 slice 调用来克隆一个数组：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var clone = myArray.slice(0); // naive clone</span><br><span class="line">                              // 浅克隆</span><br></pre></td></tr></table></figure></p>
<p>（译注：这里的参数 0 也可以省略，我估计 undefined 被 slice 方法自动转换为 0 了吧。）</p>
<p>Array.prototype.slice is an absolute gem in the world of JavaScript, one that even novice JavaScript developers don’t know the full potential of.</p>
<p>Array.prototype.slice 绝对是 JavaScript 世界中的一玫珍宝，但 JavaScript 初学者们显然还没有意识到它的全部潜力。</p>
<h2 id="3-Array-prototype-sort"><a href="#3-Array-prototype-sort" class="headerlink" title="3. Array.prototype.sort"></a>3. Array.prototype.sort</h2><h3 id="3-Array-prototype-sort-方法"><a href="#3-Array-prototype-sort-方法" class="headerlink" title="3. Array.prototype.sort 方法"></a>3. Array.prototype.sort 方法</h3><p>The Array sort method is vastly underused and probably a bit more powerful than most developers believe. Many developers would assume sort would do something like this:</p>
<p>数组的 sort 方法 远远没有被充分利用，而且可能比开发者们想像的更加强大。很多开发者可能觉得 sort 方法可以用来做这种事情：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[1, 3, 9, 2].sort();</span><br><span class="line">    // Returns: [1, 2, 3, 9]</span><br><span class="line">    // 返回 [1, 2, 3, 9]</span><br></pre></td></tr></table></figure></p>
<p>…which is true, but sort has more powerful uses, like this:</p>
<p>……这没错，但它还有更强大的用法，比如这样：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123; name: &quot;Robin Van PurseStrings&quot;, age: 30 &#125;,</span><br><span class="line">    &#123; name: &quot;Theo Walcott&quot;, age: 24 &#125;,</span><br><span class="line">    &#123; name: &quot;Bacary Sagna&quot;, age: 28  &#125;</span><br><span class="line">].sort(function(obj1, obj2) &#123;</span><br><span class="line">    // Ascending: first age less than the previous</span><br><span class="line">    // 实现增序排列：前者的 age 小于后者</span><br><span class="line">    return obj1.age - obj2.age;</span><br><span class="line">&#125;);</span><br><span class="line">    // Returns:  </span><br><span class="line">    // [</span><br><span class="line">    //    &#123; name: &quot;Theo Walcott&quot;, age: 24 &#125;,</span><br><span class="line">    //    &#123; name: &quot;Bacary Sagna&quot;, age: 28  &#125;,</span><br><span class="line">    //    &#123; name: &quot;Robin Van PurseStrings&quot;, age: 30 &#125;</span><br><span class="line">    // ]</span><br></pre></td></tr></table></figure></p>
<p>You can sort objects by property, not just simple basic items. In the event that JSON is sent down from the server and objects need to be sorted, keep this in mind!</p>
<p>你不仅可以对简单类型的数组项进行排序，可以通过属性来排序对象。如果哪天服务器端发来一段 JSON 数据，而且其中的对象需要排序，你可别忘了这一招！</p>
<h2 id="4-Array-Length-for-Truncation"><a href="#4-Array-Length-for-Truncation" class="headerlink" title="4. Array Length for Truncation"></a>4. Array Length for Truncation</h2><h3 id="4-用-length-属性来截断数组"><a href="#4-用-length-属性来截断数组" class="headerlink" title="4. 用 length 属性来截断数组"></a>4. 用 length 属性来截断数组</h3><p>There’s not a developer out there that hasn’t been bitten by JavaScript’s pass-objects-by-reference nature. Oftentimes developers will attempt to empty an array but mistakenly create a new one instead:</p>
<p>几乎所有开发者都踩过 JavaScript 的这个坑——“传对象只是传引用”。开发者们经常会试图 把一个数组清空，但实际上却错误地创建了一个新数组。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var myArray = yourArray = [1, 2, 3];</span><br><span class="line"> </span><br><span class="line">// :(</span><br><span class="line">// 囧</span><br><span class="line">myArray = []; // `yourArray` is still [1, 2, 3]</span><br><span class="line">              // `yourArray` 仍然是 [1, 2, 3]</span><br><span class="line"> </span><br><span class="line">// The right way, keeping reference</span><br><span class="line">// 正确的方法是保持引用</span><br><span class="line"> </span><br><span class="line">myArray.length = 0; // `yourArray` and `myArray` both []</span><br><span class="line">                    // `yourArray` 和 `myArray`（以及其它所有对这个数组的引用）都变成 [] 了</span><br></pre></td></tr></table></figure></p>
<p>What these developers probably realize is that objects are passed by reference, so while setting myArray to [] does create a new array, other references stay the same! Big mistake! Use array truncation instead.</p>
<p>坑里的人们终于明白，原来传对象只是在传引用。因此当我把 myArray 重新赋值为 [] 时，确实会创建出一个新的空数组，但其它对老数组的引用仍然没变！大坑啊！还是换用截断的方法吧，少年。</p>
<h2 id="5-Array-Merging-with-push"><a href="#5-Array-Merging-with-push" class="headerlink" title="5. Array Merging with push"></a>5. Array Merging with push</h2><h3 id="5-使用-push-来合并数组"><a href="#5-使用-push-来合并数组" class="headerlink" title="5. 使用 push 来合并数组"></a>5. 使用 push 来合并数组</h3><p>I showed in point 2 that Array’s slice and apply can do some cool stuff, so it shouldn’t surprise you that other Array methods can do the same trickery. This time we can merge arrays with the push method:</p>
<p>在上面的第 2 节里，我展示了数组的 slice 和 apply 方法所能组合出的几个小妙招，所以对于数组方法的其它技巧，你应该已经做好心理准备了吧。这次我们使用 push 方法来合并数组：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var mergeTo = [4,5,6];</span><br><span class="line">var mergeFrom = [7,8,9];</span><br><span class="line"> </span><br><span class="line">Array.prototype.push.apply(mergeTo, mergeFrom);</span><br><span class="line"> </span><br><span class="line">mergeTo; // is: [4, 5, 6, 7, 8, 9]</span><br></pre></td></tr></table></figure></p>
<p>A wonderful example of a lessor-known, simple native method for completing the basic task of array merging.</p>
<p>这是一项不为人知的小技巧，简单的原生方法就可以实现数组合并这样的常见任务。</p>
<p>（译注：这个方法的巧妙之外不仅在于 push 方法可以接收多个参数，还涉及到 apply 方法的第二个参数的用法。）</p>
<h2 id="6-Efficient-Feature-Object-Property-Detection"><a href="#6-Efficient-Feature-Object-Property-Detection" class="headerlink" title="6. Efficient Feature/Object Property Detection"></a>6. Efficient Feature/Object Property Detection</h2><h3 id="6-高效探测功能特性和对象属性"><a href="#6-高效探测功能特性和对象属性" class="headerlink" title="6. 高效探测功能特性和对象属性"></a>6. 高效探测功能特性和对象属性</h3><p>Oftentimes developers will use the following technique to detect a browser feature:</p>
<p>很多时候开发者们会像下面这样来探测浏览器的某个特性：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if(navigator.geolocation) &#123;</span><br><span class="line">    // Do some stuff</span><br><span class="line">    // 在这里干点事情</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>While that works correctly, it isn’t always efficient, as that method of object detection can initialize resources in the browser. In the past, the snippet above caused memory leaks in some browsers. The better and more efficient route is checking for a key within an object:</p>
<p>当然这可以正常工作，但它并不一定有很好的效率。因为这个对象探测方法会在浏览器中初始化资源。在过去，上面的代码片断可能会在某些浏览器下导致内存泄露。更好、更快的方法是检查对象是否包含某个键名：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if(&quot;geolocation&quot; in navigator) &#123;</span><br><span class="line">    // Do some stuff</span><br><span class="line">    // 在这里干点事情</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>This key check is as simple as it gets and may avoid memory problems. Also note that if the value of a property is falsy, your check will fail despite the key being present.</p>
<p>键名检查十分简单，而且可以避免内存泄露。另外请注意，如果这个属性的值是假值，那么前一种探测方式将会得到“否”的结果，并不能真正探测出这个键名是否存在。</p>
<h2 id="7-Event-preventDefault-and-stopPropagation"><a href="#7-Event-preventDefault-and-stopPropagation" class="headerlink" title="7. Event preventDefault and stopPropagation"></a>7. Event preventDefault and stopPropagation</h2><h3 id="7-事件对象的-preventDefault-和-stopPropagation-方法"><a href="#7-事件对象的-preventDefault-和-stopPropagation-方法" class="headerlink" title="7. 事件对象的 preventDefault 和 stopPropagation 方法"></a>7. 事件对象的 preventDefault 和 stopPropagation 方法</h3><p>Oftentimes we trigger functionality when action elements like links are clicked. Obviously we don’t want the browser to follow the link upon click, so we use our handy JavaScript library’s Event.stop method:</p>
<p>很多时候，当一个动作元素（比如链接）被点击时，会触发某个功能。显然我们并不希望点击链接时浏览器顺着这个链接跳转，于是我们会习惯性地使用 JavaScript 类库的 Event.stop 方法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;a.trigger&quot;).on(&quot;click&quot;, function(e) &#123;</span><br><span class="line">    e.stop();</span><br><span class="line"> </span><br><span class="line">    // Do more stuff</span><br><span class="line">    // 在这里干点事情</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>（译注：不知道哪个类库有这个方法，估计其作用相当于 return false; 吧。语法看起来像 jQuery，但 jQuery 并没有这个方法，而且 jQuery 是支持 e.preventDefault 和 e.stopPropagation 方法的。）</p>
<p>The problem with this lazy method of stopping the event is that not only does it prevent the default action, but it stops propagation of the event, meaning other event listeners for the elements wont fire because they don’t know about the event. It’s best to simply use preventDefault!</p>
<p>这个懒方法有一个问题，它不仅阻止了浏览器的默认动作，同时也阻止了事件继续冒泡。这意味着元素上绑定的其它事件监听器将不会被触发，因为它们根本就不知道有事件发生。此时不妨使用 preventDefault 吧！</p>
<p>Seasoned JavaScript developers will see this post and say “I knew those,” but at one point or another, they got tripped up on some of these points. Be mindful of the little things in JavaScript because they can make a big difference.</p>
<p>JavaScript 老鸟们看到这篇文章可能会说“我早知道了”，但说不定什么时候，他们就会在某一点上栽跟头。提醒大家留意 JavaScript 中的各种小细节，失之毫厘谬以千里啊！</p>

            <div class="clearfix"></div>
            <hr class="nogutter">
        </div>
        <nav class="pagination" role="pagination">
    
    <a class="pull-left" href="/post/32/" style="float: left;">
        ← 让 WebStorm 支持 ECMAScript 6 和 JSX
    </a>
    
    
    <a class="pull-right" href="/post/30/">
        Sweet Sublime Text —— 我的Sublime配置 →
    </a>
    
</nav>

        <div class="duoshuo">
<div id="disqus_thread"></div>
<script type="text/javascript">
	var disqus_shortname = 'superkieran';
	window.addEventListener('load', function(){
		(function(){
			var dsq = document.createElement('script');
			dsq.type = 'text/javascript';
			dsq.async = true;
			dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
			(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		}());
	});
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>




<div class="ds-thread" data-thread-key="post/31/" data-title="[转] JavaScript 开发者经常忽略或误用的七个基础知识点" data-url="http://go.kieran.top/post/31/"></div>
<script type="text/javascript">
	var duoshuoQuery = {short_name:"kieran"};
	window.addEventListener('load', function(){
		(function() {
			var ds = document.createElement('script');
			ds.type = 'text/javascript';ds.async = true;
			ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
			ds.charset = 'UTF-8';
			(document.getElementsByTagName('head')[0]
			|| document.getElementsByTagName('body')[0]).appendChild(ds);
		})();
	});
</script>
</div>
    </div>
</section>


      
<!-- ============================ Footer =========================== -->

<footer>
    <div class="container">
            <div class="copy">
                <p>
                    &copy; 2014<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By Kieran. All Rights Reserved.
                </p>
                <p>Theme By <a href="//go.kieran.top" style="color: #767D84">Kieran</a></p>
            </div>
            <div class="social">
                <ul>
                    
                    <li><a href="https://github.com/SuperKieran" title="Github" target="_blank"><i class="icon-github"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="https://twitter.com/1tsKieran" title="Twitter" target="_blank"><i class="icon-twitter"></i></a>&nbsp;</li>
                    
                    
                    
                    
                    <li><a href="http://weibo.com/taokailun" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a>&nbsp;</li>
                    
                </ul>
            </div>
            <div class="clearfix"> </div>
        </div>
</footer>

<!-- ============================ END Footer =========================== -->
      <!-- Load our scripts -->
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
    var resizeHero = function () {
        var hero = $(".cover,.heightblock"),
            window1 = $(window);
        hero.css({
            "height": window1.height()
        });
    };

    resizeHero();

    $(window).resize(function () {
        resizeHero();
    });
</script>
<script src="/js/plugins.min.js"></script><!-- Bootstrap core and concatenated plugins always load here -->
<script src="/js/jquery.flexslider-min.js"></script><!-- Flexslider plugin -->
<script src="/js/scripts.js"></script><!-- Theme scripts -->


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$('#intro').find('img').each(function(){
  var alt = this.alt;

  if (alt){
    $(this).after('<span class="caption" style="display:none">' + alt + '</span>');
  }

  $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="gallery" />');
});
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

<!-- Initiate flexslider plugin -->
<script type="text/javascript">
    $(document).ready(function($) {
      (function(){
        console.log('font');
        var getCss = function(path) {
          var head = document.getElementsByTagName('head')[0];
          link = document.createElement('link');
          link.href = path;
          link.rel = 'stylesheet';
          link.type = 'text/css';
          head.appendChild(link);
        };
        getCss('https://fonts.googleapis.com/css?family=Montserrat:400,700');
        getCss('https://fonts.googleapis.com/css?family=Open+Sans:400,600');
      })();
      $('.flexslider').flexslider({
        animation: "fade",
        prevText: "",
        nextText: "",
        directionNav: true
      });
      <!-- Baidu统计 -->
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?c71a239d451f8149ac6ebf67a0c992fa";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();

      <!-- Google 统计 -->
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-63685503-1', 'auto');
      ga('send', 'pageview');
    });
</script>

</body>
</html>
